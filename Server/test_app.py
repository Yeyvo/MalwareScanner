from aiohttp import web
import socketio
import uuid
import util
from network_monitoring import Monitor, Filter

sio = socketio.AsyncServer()

app = web.Application()

sio.attach(app)


@sio.on('test')
async def test_socketio(sid, message):
		print("Socket ID: " , sid)
		print(message)

@sio.on('message')
async def test_socketio(sid, message):
		await sio.emit('info', {
				'message': message
		}, room=sid)
		@sio.on('message2')
		async def test_socketio2(sid, message2):
				await sio.emit('info', {
						"message1": message,
						'message2': message
				}, room=sid)

if __name__ == '__main__':
		web.run_app(app, port=8081)
