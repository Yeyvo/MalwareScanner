from network_monitoring import Monitor, Filter
import asyncio
import time

def local_callback(the_thing):
	print("local - ", the_thing)

def wsl_callback(the_thing):
	print("wsl - ", the_thing)

def wsl_callback_1(the_thing):
	print("wsl1 - ", the_thing)

def wsl_callback_2(the_thing):
	print("wsl2 - ", the_thing)


def test1():
	my_monitor_local = Monitor("Wi-Fi", filters=[], callback=local_callback)
	my_monitor_wsl = Monitor("vEthernet (WSL)", filters=[], callback=wsl_callback)

	my_monitor_local.start()
	my_monitor_wsl.start()

	time.sleep(5)

	my_monitor_local.stop()


def test2():
	my_monitor_local = Monitor("Wi-Fi", filters=[Filter(protocol="TCP", destination_addr="10.245.205.191")], callback=local_callback)

	my_monitor_local.start()

	time.sleep(5)

	my_monitor_local.stop()

def test3():
	my_monitor_wsl_1 = Monitor("Wi-Fi", filters=[Filter(protocol="TCP")], callback=wsl_callback_1)
	my_monitor_wsl_2 = Monitor("Wi-Fi", filters=[Filter(protocol="TCP")], callback=wsl_callback_2)

	my_monitor_wsl_1.start()
	my_monitor_wsl_2.start()

	time.sleep(3)

	my_monitor_wsl_1.stop()
	my_monitor_wsl_2.stop()

test3()