import util.sandbox_ctrl as sandbox_ctrl
import util.aws_utils as aws_utils
import asyncio


async def test1(initial_infrastructure_data):

    vm_information = await sandbox_ctrl.create_vm(
        initial_infrastructure_data, "MALWARE_URL")
    input("Press Enter to continue...")
    await sandbox_ctrl.stop_vm(instance_id=vm_information['instance_id'], mirror_data=vm_information['mirror_data'], initial_data=initial_infrastructure_data)

if __name__ == "__main__":
    initial_infrastructure_data = aws_utils.getInitialData()
    asyncio.run(test1(initial_infrastructure_data))
